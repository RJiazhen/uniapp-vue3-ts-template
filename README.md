# uniapp-vue3-ts-template
åŸºäºå®˜æ–¹æ¨¡æ¿è‡ªå®šä¹‰çš„uniapp+vue3+tsæ¨¡æ¿ï¼Œé¢„å…ˆæ·»åŠ äº†å¸¸ç”¨çš„piniaã€sassã€uni-uiç­‰å¸¸ç”¨npmåŒ…ï¼Œä¸”åœ¨é¢„è®¾ç¼–è¯‘ç¯å¢ƒä¸‹ç¼–è¯‘ä¸ºå¾®ä¿¡å°ç¨‹åºæ—¶ï¼Œæ²¡æœ‰å› ä¸ºä¸åŒç‰ˆæœ¬çš„åŒ…å¯¼è‡´çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¼€ç®±å³ç”¨ã€‚

## ğŸ“¥ä¸‹è½½
åœ¨ç›®æ ‡æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```
npx degit RJiazhen/uniapp-vue3-ts-template my-project
```
å°†æœ¬ä»“åº“å»é™¤gité…ç½®åä¸‹è½½åˆ°æœ¬åœ°ï¼Œå³å¯ä½¿ç”¨ã€‚

å¦‚å› ä¸ºç½‘ç»œé—®é¢˜æ— æ³•ä¸‹è½½ï¼Œå¯ä»¥ç‚¹å‡»[è¯¥é“¾æ¥](https://gitee.com/Rjiazhen/uniapp-vue3-ts-template/archive/refs/tags/v1.0.0.zip)ç›´æ¥ä¸‹è½½giteeä»“åº“ä»£ç ï¼Œè§£å‹ååˆ é™¤.gitæ–‡ä»¶å¤¹å³å¯ä½¿ç”¨ã€‚

## â¬ è¿è¡Œ

### ç¼–è¯‘ç¯å¢ƒ

æœ¬æ¨¡æ¿åœ¨`node.js 18.14.2`å’Œ`npm 9.5.0`ç¯å¢ƒä¸‹è¿›è¡Œç¼–è¯‘ï¼Œå…¶ä»–ç¯å¢ƒä¸‹æœªæµ‹è¯•

### è¿è¡Œ

#### å®‰è£…npmåŒ…ï¼š
```
npm install
```
æ³¨æ„ï¼Œä¸è¦è¿è¡Œ`npm audit fix --force`å‘½ä»¤ï¼Œå¯èƒ½ä¼šå› ä¸ºnpmç‰ˆæœ¬è¿‡é«˜å¯¼è‡´æ— æ³•æ­£å¸¸ç¼–è¯‘ã€‚
åŒæ—¶æœ¬æ¨¡æ¿åœ¨package.jsonä¸­é™åˆ¶äº†piniaã€sassã€sass-loaderçš„ç‰ˆæœ¬ï¼Œè¯·è°¨æ…æ›´æ–°è¿™å‡ ä¸ªåº“çš„ç‰ˆæœ¬ï¼Œå¯èƒ½å‡ºç°ç‰ˆæœ¬ä¸å…¼å®¹çš„é—®é¢˜ã€‚

#### ç¼–è¯‘ä¸ºå¼€å‘ç¯å¢ƒçš„å¾®ä¿¡å°ç¨‹åºï¼š
```
npm run dev:mp-weixin
```
ç¼–è¯‘å®Œæˆåï¼Œåœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å¯¼å…¥è¿è¡Œï¼Œå…¶ä»–ç¼–è¯‘å‘½ä»¤å‚è€ƒ[uniappå®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/quickstart-cli.html#%E8%BF%90%E8%A1%8C%E3%80%81%E5%8F%91%E5%B8%83uni-app)ã€‚

#### ç¼–è¯‘ä¸ºæœ¬åœ°æµ‹è¯•ç¯å¢ƒå¾®ä¿¡å°ç¨‹åºï¼š
```
npm run dev-local:mp-weixin
```
è‡ªå®šä¹‰ç¯å¢ƒé…ç½®å‚è€ƒ[Viteå®˜æ–¹æ–‡æ¡£](https://cn.vitejs.dev/guide/env-and-mode.html#modes)

#### ç¼–è¯‘ä¸ºç”Ÿäº§ç¯å¢ƒçš„å¾®ä¿¡å°ç¨‹åºï¼š
```
npm run build:mp-weixin
```
è¯¥ç‰ˆæœ¬ç”¨äºæ­£å¼å‘è¡Œ


## ğŸ’» å¼€å‘

### npmåŒ…

é™¤åŸå®˜æ–¹æ¨¡æ¿å·²è‡ªå¸¦çš„ï¼Œæœ¬æ¨¡æ¿è¿˜æ·»åŠ äº†ä»¥ä¸‹npmåŒ…ï¼š
* @dcloudio/uni-uiï¼šuniappå®˜æ–¹uiåº“ï¼›
* @types/XXXï¼štypescriptç±»å‹åŒ…ï¼›
* @typescript-eslint/XXXï¼štypescriptçš„eslintæ’ä»¶ï¼›
* @uni-helper/XXXï¼šuni-helperå›¢é˜Ÿåˆ¶ä½œçš„uniappçš„apiçš„tsç±»å‹åŒ…ï¼›
* @vue/tsconfig: Vueå®˜æ–¹æä¾›çš„Vue3é¡¹ç›®çš„tsé…ç½®ï¼›
* eslintã€eslint-XXXï¼šeslintåŠç›¸å…³çš„é…ç½®æ‰©å±•å’Œæ’ä»¶ï¼Œç”¨äºè§„èŒƒtsä»£ç æ£€æŸ¥å’Œé£æ ¼è§„èŒƒï¼›
* piniaï¼šVueå®˜æ–¹æ¨èçŠ¶æ€ç®¡ç†åŒ…ï¼›
* postcss-htmlï¼šcssæ ·å¼è½¬æ¢å™¨ï¼Œç”¨äºstylelintï¼›
* sassã€sass-loaderï¼šscssè¯­æ³•æ”¯æŒï¼Œuni-uiå¿…å¤‡ï¼›
* stylelintã€stylelint-XXXï¼šstylelintåŠç›¸å…³é…ç½®æ‰©å±•ï¼Œç”¨äºæ ·å¼ä»£ç çš„æ£€æŸ¥ä¸é£æ ¼è§„èŒƒï¼›
* typescriptï¼štsæ”¯æŒï¼›
* unplugin-auto-importï¼šè‡ªåŠ¨å¼•å…¥vueã€piniaã€uniappç­‰çš„APIï¼›
* viteã€vue-tscï¼šviteé¡¹ç›®è‡ªå¸¦åŒ…ï¼›

### å¼€å‘ç¯å¢ƒå’Œæ’ä»¶

æ¨èä½¿ç”¨VScodeè¿›è¡Œå¼€å‘ï¼Œåœ¨æ’ä»¶æœç´¢æ ä¸­è¾“å…¥`@recommended`å¯ä»¥æŸ¥çœ‹æœ¬é¡¹ç›®æ¨èä½¿ç”¨çš„æ‰©å±•ã€‚

**æœ¬é¡¹ç›®æ¨è**çš„æ’ä»¶ï¼š

* [Volar](https://marketplace.visualstudio.com/items?itemName=Vue.volar)ï¼šVueå®˜æ–¹æ¨èæ’ä»¶ï¼Œæ‹¥æœ‰è¯­æ³•æ£€æµ‹ã€ä»£ç æç¤ºç­‰é€‚é…Vueçš„åŠŸèƒ½ï¼Œä½†æ³¨æ„ä½¿ç”¨æ—¶éœ€è¦[å¼€å¯Takeoveræ¨¡å¼](https://cn.vuejs.org/guide/typescript/overview.html#volar-takeover-mode)ï¼›
* [Eslint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)ï¼šå®æ—¶æ£€æµ‹js/tsä»£ç æ˜¯å¦ç¬¦åˆeslinté…ç½®ï¼Œä»¥åŠæ ¹æ®é…ç½®è¿›è¡Œä¿®å¤ï¼›
* [Auto Rename Tag](https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag)ï¼šè‡ªåŠ¨é‡å‘½åé…å¯¹çš„HTMLæ ‡ç­¾ï¼›
* [uni-create-view](https://marketplace.visualstudio.com/items?itemName=mrmaoddxxaa.create-uniapp-view)ï¼šå¿«é€Ÿåˆ›å»ºuniappè§†å›¾ï¼›
* [uni-app-schemas](https://marketplace.visualstudio.com/items?itemName=uni-helper.uni-app-schemas-vscode)ï¼šæ ¡éªŒ uni-app ä¸­çš„ androidPrivacy.jsonã€pages.json å’Œ manifest.json æ ¼å¼ï¼›
* [uni-app-snippets](https://marketplace.visualstudio.com/items?itemName=uni-helper.uni-app-snippets-vscode)ï¼šuniappä»£ç ç‰‡æ®µï¼›
* [uni-ui-snippets](https://marketplace.visualstudio.com/items?itemName=uni-helper.uni-ui-snippets-vscode)ï¼šuni-uiä»£ç ç‰‡æ®µï¼›
* [Stylelint](https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint)ï¼šå®æ—¶æ£€æµ‹æ ·å¼ä»£ç æ˜¯å¦ç¬¦åˆstylelinté…ç½®ï¼Œä»¥åŠæ ¹æ®é…ç½®è¿›è¡Œä¿®å¤ï¼›
* [Path Intellisense](https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense)ï¼šè·¯å¾„æç¤ºã€‚

  Eslintã€Stylelintã€Path Intellisenseæ’ä»¶å·²åœ¨`.vscode\setting.json`ä¸­è¿›è¡Œç›¸å…³é…ç½®ï¼›

**å…¶ä»–æ¨è**æ’ä»¶ï¼š

* [Code Spell Checker](https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker)ï¼šå•è¯æ‹¼å†™æ£€æŸ¥ï¼›
* [Error Lens](https://marketplace.visualstudio.com/items?itemName=usernamehw.errorlens)ï¼šè¡Œå†…æ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯ï¼›
* [Todo Tree](https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree)ï¼šæ˜¾ç¤ºTODOã€FIXMEç­‰ç‰¹æ®Šæ³¨é‡Šï¼›

## ğŸ“–é¡¹ç›®ç»“æ„

```
uniapp-vue3-ts-template
â”œâ”€ .eslintrc-auto-import.json       unplugin-auto-importè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨èæ·»åŠ åˆ°å¿½ç•¥åˆ—è¡¨
â”œâ”€ .eslintrc.js                     eslinté…ç½®æ–‡ä»¶
â”œâ”€ .stylelintrc.js                  stylelinté…ç½®æ–‡ä»¶
â”œâ”€ .vscode                          VScodeé¡¹ç›®é…ç½®
â”œâ”€ index.html
â”œâ”€ package-lock.json
â”œâ”€ package.json
â”œâ”€ README.md
â”œâ”€ src
â”‚   â”œâ”€ api                          æ¥å£
â”‚   â”‚   â”œâ”€ request.ts               å°è£…çš„è¯·æ±‚æ–¹æ³•
â”‚   â”‚   â””â”€ user-api.ts              æ¥å£ç¤ºä¾‹æ–‡ä»¶
â”‚   â”œâ”€ App.vue
â”‚   â”œâ”€ components                   ç»„ä»¶
â”‚   â”‚   â””â”€ MyPopup.vue              ç»„ä»¶ç¤ºä¾‹æ–‡ä»¶
â”‚   â”œâ”€ env                          ç¯å¢ƒå˜é‡æ–‡ä»¶å¤¹
â”‚   â”‚   â”œâ”€ .env.development         å¼€å‘ç¯å¢ƒå˜é‡æ–‡ä»¶
â”‚   â”‚   â”œâ”€ .env.devLocal            æœ¬åœ°å¼€å‘ç¯å¢ƒå˜é‡æ–‡ä»¶
â”‚   â”‚   â””â”€ .env.production          ç”Ÿäº§ç¯å¢ƒå˜é‡æ–‡ä»¶
â”‚   â”œâ”€ main.ts
â”‚   â”œâ”€ manifest.json                uniappé…ç½®æ–‡ä»¶
â”‚   â”œâ”€ pages                        é¡µé¢
â”‚   â”‚   â””â”€ index.vue                ç¤ºä¾‹é¡µé¢æ–‡ä»¶
â”‚   â”œâ”€ pages.json                   é¡¹ç›®é¡µé¢é…ç½®æ–‡ä»¶
â”‚   â”œâ”€ static                       é™æ€æ–‡ä»¶å¤¹
â”‚   â”‚   â”œâ”€ constants                å¸¸é‡
â”‚   â”‚   â”‚   â””â”€ view-constants.ts    å¸¸é‡ç¤ºä¾‹æ–‡ä»¶
â”‚   â”‚   â”œâ”€ icons                    å›¾æ ‡
â”‚   â”‚   â”‚   â””â”€ common               é€šç”¨å›¾æ ‡
â”‚   â”‚   â”œâ”€ images                   å›¾ç‰‡
â”‚   â”‚   â”‚   â””â”€ common               é€šç”¨å›¾ç‰‡
â”‚   â”‚   â””â”€ styles                   æ ·å¼
â”‚   â”‚       â””â”€ common.scss          é€šç”¨æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€ stores                       storeæ–‡ä»¶å¤¹
â”‚   â”‚   â””â”€ user-store.ts            storeç¤ºä¾‹æ–‡ä»¶
â”‚   â”œâ”€ subpkg                       åˆ†åŒ…æ–‡ä»¶å¤¹
â”‚   â”‚   â””â”€ subpkg-example.vue       åˆ†åŒ…ç¤ºä¾‹æ–‡ä»¶
â”‚   â”œâ”€ types  ç±»å‹
â”‚   â”‚   â”œâ”€ auto-imports.d.ts        unplugin-auto-importè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶ï¼Œæ¨èæ·»åŠ åˆ°å¿½ç•¥åˆ—è¡¨
â”‚   â”‚   â”œâ”€ env.d.ts                 å…¨å±€ç±»å‹ç¤ºä¾‹æ–‡ä»¶
â”‚   â”‚   â””â”€ shime-uni.d.ts           uniappåŸæ¨¡æ¿è‡ªå¸¦å£°æ˜æ–‡ä»¶
â”‚   â””â”€ utils                        é€šç”¨æ–¹æ³•
â”œâ”€ tsconfig.json                    tsé…ç½®æ–‡ä»¶
â”œâ”€ vite.config.ts                   viteé…ç½®æ–‡ä»¶
â””â”€ vue.config.js                    vueé…ç½®æ–‡ä»¶
```

## ğŸ¦’ä»£ç é£æ ¼
æœ¬é¡¹ç›®æ¨èä»£ç éµå¾ª[vue3å®˜æ–¹çš„é£æ ¼æŒ‡å—](https://v2.cn.vuejs.org/v2/style-guide/)å’Œ[Vue3ç»„åˆå¼APIé£æ ¼æŒ‡å—ï¼ˆè‹±æ–‡ï¼‰](https://cn.vuejs.org/style-guide/)ï¼Œjs/tsä»£ç é£æ ¼å·²ä½¿ç”¨eslintè¿›è¡Œé™åˆ¶ï¼Œcss/scssä»£ç å·²ä½¿ç”¨stylelintè¿›è¡Œé™åˆ¶ã€‚

ä»¥ä¸‹æ˜¯éƒ¨åˆ†æ— æ³•é€šè¿‡å·¥å…·çº¦æŸï¼Œä½†æœ‰å¸Œæœ›éµå¾ªçš„è§„åˆ™

### å¿…è¦çš„

#### ä¼˜å…ˆä½¿ç”¨`async/await`

é™¤éæ˜¯è¦å°†å›è°ƒå‡½æ•°PromiseåŒ–ï¼Œå¦åˆ™ä¼˜å…ˆä½¿ç”¨`async/await`çš„å½¢å¼ä»£æ›¿`Promise.then()`ï¼Œä»¥å…`Promise.then()`è¿‡åº¦ä½¿ç”¨å¯¼è‡´ä»£ç é˜…è¯»éš¾åº¦å¢åŠ ã€‚

#### é¡µé¢æ–‡ä»¶å’Œç»„ä»¶æ–‡ä»¶çš„å‘½å

é¡µé¢æ–‡ä»¶ä½¿ç”¨çŸ­æ¨ªçº¿å‘½åæ³•ï¼ˆkebab-caseï¼‰ï¼Œç»„ä»¶æ–‡ä»¶ä½¿ç”¨å¤§é©¼å³°å‘½åæ³•ï¼ˆPascalCaseï¼‰ã€‚

é™¤äº†uni-uiç»„ä»¶å› ä¸ºè¦ä½¿ç”¨easycomåŠŸèƒ½è€Œä½¿ç”¨çŸ­æ¨ªçº¿å‘½åæ³•ï¼Œä¸ªäººç»„ä»¶è¯·ä½¿ç”¨å¤§é©¼å³°å‘½åæ³•ï¼Œä»¥ä¾¿å’ŒVueå®˜æ–¹æŒ‡å—ä»¥åŠå…¶ä»–å¸¸è§Vueç»„ä»¶åº“ä¿æŒç»Ÿä¸€ï¼Œè€Œé¡µé¢ä½¿ç”¨çŸ­æ¨ªçº¿å‘½åæ³•å’Œç»„ä»¶æ–‡ä»¶è¿›è¡ŒåŒºåˆ«ã€‚

#### æ–‡ä»¶å¤´éƒ¨æ·»åŠ åŸºæœ¬è¯´æ˜

åœ¨æ‰€æœ‰ä»£ç æ–‡ä»¶ä¸­æ·»åŠ ç±»ä¼¼ä»¥ä¸‹çš„æ³¨é‡Šï¼Œä»¥æ–¹ä¾¿å¿«é€Ÿåˆ†è¾¨æ–‡ä»¶ä½œç”¨ï¼š
```
<!-- é¦–é¡µ -->

// é¡µé¢å±•ç¤ºç›¸å…³çš„å¸¸é‡

```

#### ç»™å‡½æ•°ã€å˜é‡æ·»åŠ æ³¨é‡Š

æ‰€æœ‰åœ¨å¤–éƒ¨ä½¿ç”¨çš„å‡½æ•°æˆ–å˜é‡å‡éœ€è¦ç¼–å†™TSDocé£æ ¼çš„æ³¨é‡Šã€‚

é€šè¿‡ç»™å‡½æ•°æˆ–å˜é‡æ·»åŠ å¦‚ä¸‹TSDocé£æ ¼æ³¨é‡Šï¼Œå¯ä»¥ç›´æ¥é€šè¿‡é¼ æ ‡æ‚¬åœå°±æŸ¥çœ‹ä»£ç ç›¸å…³æ³¨é‡Šï¼Œä»¥æ–¹ä¾¿å¼€å‘ï¼š
``` ts
/**
 * æ˜¾ç¤ºå¼¹çª—
 * @param title å¼¹çª—æ ‡é¢˜
 * @param icon å¼¹çª—å›¾æ ‡
 * @param duration å¼¹çª—æŒç»­æ—¶é—´
 * @param mask æ˜¯å¦æ˜¾ç¤ºé€æ˜è’™å±‚ï¼Œé˜²æ­¢è§¦æ‘¸ç©¿é€
 * @param image è‡ªå®šä¹‰å›¾æ ‡çš„æœ¬åœ°è·¯å¾„ï¼Œimage çš„ä¼˜å…ˆçº§é«˜äº icon
 * @param success æˆåŠŸå›è°ƒ
 * @param fail å¤±è´¥å›è°ƒ
 * @param complete å®Œæˆå›è°ƒ
 * @returns void
 */
export const showToast = (
  title: string,
  icon: 'none' | 'success' | 'loading' | 'error' | undefined = 'none',
  duration = 1500,
  mask = false,
  image = '',
  success = () => { },
  fail = () => { },
  complete = () => { },
) => {
  uni.showToast({
    title,
    icon,
    duration,
    mask,
    image,
    success,
    fail,
    complete,
  })
}
```

è¯¦ç»†ç¼–å†™æ–¹æ³•å¯ä»¥å‚è€ƒ[TSDocå®˜æ–¹æ–‡æ¡£](https://tsdoc.org/)ã€‚


#### å¸¸é‡çš„å‘½åå’Œä¿å­˜

å¯¹äºèœå•åˆ—è¡¨ã€æ•°æ®æ¨¡æ¿è¿™ç±»ä¸è¿›è¡Œä»»ä½•æ“ä½œçš„å¸¸é‡ï¼Œè¯·ä¿å­˜åœ¨`src/static/constants`æ–‡ä»¶å¤¹ä¸‹å¯¹åº”çš„æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”ä½¿ç”¨å…¨å¤§å†™ä¸‹åˆ’çº¿å‘½åæ³•ï¼Œä¾‹å¦‚ï¼š
``` ts
// view-constants.ts

/** é¦–é¡µæŒ‰é’®åˆ—è¡¨ */
export const HOME_BUTTON_LIST = [
  {
    name: 'å¼¹çª—æŒ‰é’®ä¸€',
  },
  {
    name: 'å¼¹çª—æŒ‰é’®äºŒ',
  },
  {
    name: 'å¼¹çª—æŒ‰é’®ä¸‰',
  },
]
```

## âœ…TODO

- [ ] ç¼–å†™å®Œæ•´çš„é£æ ¼æŒ‡å—
- [ ] ç¼–å†™é¡¹ç›®å¼€å‘å»ºè®®
